<!DOCTYPE html>
<html lang="en">
  <head>
    <title>PingResponse Enumeration Reference</title>
    <link rel="stylesheet" type="text/css" href="../../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../../js/jquery.min.js" defer></script>
    <script src="../../js/jazzy.js" defer></script>
    
    <script src="../../js/lunr.min.js" defer></script>
    <script src="../../js/typeahead.jquery.js" defer></script>
    <script src="../../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Enum/PingResponse" class="dashAnchor"></a>

    <a title="PingResponse Enumeration Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../../index.html">
          SWIM Docs
        </a>
         (96% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/apple/swift-cluster-membership">
            <img class="header-icon" src="../../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../../index.html">SWIM Reference</a>
      <img class="carat" src="../../img/carat.png" />
      PingResponse Enumeration Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Documentation.html">Documentation</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/SWIM.html">SWIM</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/SWIM/MemberStatusChangedEvent.html">– MemberStatusChangedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/SWIM/Member.html">– Member</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/SWIM/PingResponse.html">– PingResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/SWIM/Gossip.html">– Gossip</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/SWIM/GossipPayload.html">– GossipPayload</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/SWIM/Instance.html">– Instance</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/SWIM/Settings.html">– Settings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/SWIM/Status.html">– Status</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/SWIMAddressablePeer.html">SWIMAddressablePeer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/SWIMPeer.html">SWIMPeer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/SWIMPingOriginPeer.html">SWIMPingOriginPeer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/SWIMPingRequestOriginPeer.html">SWIMPingRequestOriginPeer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/SWIMProtocol.html">SWIMProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Other%20Structs.html">Other Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Structs/SWIMGossipSettings.html">SWIMGossipSettings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Structs/SWIMLifeguardSettings.html">SWIMLifeguardSettings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Structs/_SWIMPrettyMetadataLogHandler.html">_SWIMPrettyMetadataLogHandler</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>PingResponse</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">PingResponse</span></code></pre>

                </div>
              </div>
            <p>Message sent in reply to a <code>.ping</code>.</p>

<p>The ack may be delivered directly in a request-response fashion between the probing and pinged members,
or indirectly, as a result of a <code>pingRequest</code> message.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4SWIMAAO12PingResponseO3ackyAdA8SWIMPeer_p_s6UInt64VAB13GossipPayloadOs6UInt32VtcADmF"></a>
                    <a name="//apple_ref/swift/Element/ack(target:incarnation:payload:sequenceNumber:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:4SWIMAAO12PingResponseO3ackyAdA8SWIMPeer_p_s6UInt64VAB13GossipPayloadOs6UInt32VtcADmF">ack(target:<wbr>incarnation:<wbr>payload:<wbr>sequenceNumber:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">case</span> <span class="nf">ack</span><span class="p">(</span><span class="nv">target</span><span class="p">:</span> <span class="kt"><a href="../../Protocols/SWIMPeer.html">SWIMPeer</a></span><span class="p">,</span> <span class="nv">incarnation</span><span class="p">:</span> <span class="kt"><a href="../../Enums/SWIM.html#/s:4SWIMAAO11Incarnationa">Incarnation</a></span><span class="p">,</span> <span class="nv">payload</span><span class="p">:</span> <span class="kt"><a href="../../Enums/SWIM/GossipPayload.html">GossipPayload</a></span><span class="p">,</span> <span class="nv">sequenceNumber</span><span class="p">:</span> <span class="kt"><a href="../../Enums/SWIM.html">SWIM</a></span><span class="o">.</span><span class="kt"><a href="../../Enums/SWIM.html#/s:4SWIMAAO14SequenceNumbera">SequenceNumber</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>target</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the target of the ping;
On the remote &ldquo;pinged&rdquo; node which is about to send an ack back to the ping origin this should be filled with the <code>myself</code> peer.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>incarnation</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the incarnation of the peer sent in the <code>target</code> field</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>payload</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>additional gossip data to be carried with the message.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>sequenceNumber</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the <code><a href="../../Enums/SWIM/PingResponse.html#/s:4SWIMAAO12PingResponseO14sequenceNumbers6UInt32Vvp">sequenceNumber</a></code> of the <code>ping</code> message this ack is a &ldquo;reply&rdquo; for;
It is used on the ping origin to co-relate the reply with its handling code.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-cluster-membership/blob/0.0.0/Sources/SWIM/SWIM.swift#L45">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4SWIMAAO12PingResponseO4nackyAdA8SWIMPeer_p_s6UInt32VtcADmF"></a>
                    <a name="//apple_ref/swift/Element/nack(target:sequenceNumber:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:4SWIMAAO12PingResponseO4nackyAdA8SWIMPeer_p_s6UInt32VtcADmF">nack(target:<wbr>sequenceNumber:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>.nack</code> MAY ONLY be sent by an <em>intermediary</em> member which was received a <code>pingRequest</code> to perform a <code>ping</code> of some <code>target</code> member.
It SHOULD NOT be sent by a peer that received a <code>.ping</code> directly.</p>

<p>The nack allows the origin of the ping request to know if the <code>k</code> peers it asked to perform the indirect probes,
are still responsive to it, or if perhaps that communication by itself is also breaking down. This information is
used to adjust the <code>localHealthMultiplier</code>, which impacts probe and timeout intervals.</p>

<p>Note that nack information DOES NOT directly cause unreachability or suspicions, it only adjusts the timeouts
and intervals used by the swim instance in order to take into account the potential that our local node is
potentially not healthy.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p>Lifeguard IV.A. Local Health Aware Probe</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">case</span> <span class="nf">nack</span><span class="p">(</span><span class="nv">target</span><span class="p">:</span> <span class="kt"><a href="../../Protocols/SWIMPeer.html">SWIMPeer</a></span><span class="p">,</span> <span class="nv">sequenceNumber</span><span class="p">:</span> <span class="kt"><a href="../../Enums/SWIM.html">SWIM</a></span><span class="o">.</span><span class="kt"><a href="../../Enums/SWIM.html#/s:4SWIMAAO14SequenceNumbera">SequenceNumber</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>target</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the target of the ping;
On the remote &ldquo;pinged&rdquo; node which is about to send an ack back to the ping origin this should be filled with the <code>myself</code> peer.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>target</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the target of the ping;
On the remote &ldquo;pinged&rdquo; node which is about to send an ack back to the ping origin this should be filled with the <code>myself</code> peer.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>payload</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The gossip payload to be carried in this message.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-cluster-membership/blob/0.0.0/Sources/SWIM/SWIM.swift#L66">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4SWIMAAO12PingResponseO7timeoutyAdA8SWIMPeer_p_AA25SWIMPingRequestOriginPeer_pSg8Dispatch0J12TimeIntervalOs6UInt32VtcADmF"></a>
                    <a name="//apple_ref/swift/Element/timeout(target:pingRequestOrigin:timeout:sequenceNumber:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:4SWIMAAO12PingResponseO7timeoutyAdA8SWIMPeer_p_AA25SWIMPingRequestOriginPeer_pSg8Dispatch0J12TimeIntervalOs6UInt32VtcADmF">timeout(target:<wbr>pingRequestOrigin:<wbr>timeout:<wbr>sequenceNumber:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This is a &ldquo;pseudo-message&rdquo;, in the sense that it is not transported over the wire, but should be triggered
and fired into an implementation Shell when a ping has timed out.</p>

<p>If a response for some reason produces a different error immediately rather than through a timeout,
the shell should also emit a <code>.timeout</code> response and feed it into the <code><a href="../../Enums/SWIM/Instance.html">SWIM.Instance</a></code> as it is important for
timeout adjustments that the instance makes. The instance does not need to know specifics about the reason of
a response not arriving, thus they are all handled via the same timeout response rather than extra &ldquo;error&rdquo; responses.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">case</span> <span class="nf">timeout</span><span class="p">(</span><span class="nv">target</span><span class="p">:</span> <span class="kt"><a href="../../Protocols/SWIMPeer.html">SWIMPeer</a></span><span class="p">,</span> <span class="nv">pingRequestOrigin</span><span class="p">:</span> <span class="kt"><a href="../../Protocols/SWIMPingRequestOriginPeer.html">SWIMPingRequestOriginPeer</a></span><span class="p">?,</span> <span class="nv">timeout</span><span class="p">:</span> <span class="kt">DispatchTimeInterval</span><span class="p">,</span> <span class="nv">sequenceNumber</span><span class="p">:</span> <span class="kt"><a href="../../Enums/SWIM.html">SWIM</a></span><span class="o">.</span><span class="kt"><a href="../../Enums/SWIM.html#/s:4SWIMAAO14SequenceNumbera">SequenceNumber</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>target</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the target of the ping;
On the remote &ldquo;pinged&rdquo; node which is about to send an ack back to the ping origin this should be filled with the <code>myself</code> peer.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>pingRequestOrigin</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>if this response/timeout is in response to a ping that was caused by a pingRequest,
<code>pingRequestOrigin</code> must contain the original peer which originated the ping request.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>timeout</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the timeout interval value that caused this message to be triggered;
In case of &ldquo;cancelled&rdquo; operations or similar semantics it is allowed to use a placeholder value here.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>sequenceNumber</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the <code><a href="../../Enums/SWIM/PingResponse.html#/s:4SWIMAAO12PingResponseO14sequenceNumbers6UInt32Vvp">sequenceNumber</a></code> of the <code>ping</code> message this ack is a &ldquo;reply&rdquo; for;
It is used on the ping origin to co-relate the reply with its handling code.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-cluster-membership/blob/0.0.0/Sources/SWIM/SWIM.swift#L85">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:4SWIMAAO12PingResponseO14sequenceNumbers6UInt32Vvp"></a>
                    <a name="//apple_ref/swift/Property/sequenceNumber" class="dashAnchor"></a>
                    <a class="token" href="#/s:4SWIMAAO12PingResponseO14sequenceNumbers6UInt32Vvp">sequenceNumber</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sequence number of the initial request this is a response to.
Used to pair up responses to the requests which initially caused them.</p>

<p>All ping responses are guaranteed to have a sequence number attached to them.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">sequenceNumber</span><span class="p">:</span> <span class="kt"><a href="../../Enums/SWIM.html">SWIM</a></span><span class="o">.</span><span class="kt"><a href="../../Enums/SWIM.html#/s:4SWIMAAO14SequenceNumbera">SequenceNumber</a></span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-cluster-membership/blob/0.0.0/Sources/SWIM/SWIM.swift#L91-L100">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="https://github.com/apple/swift-cluster-membership" target="_blank" rel="external">Swift Cluster Membership Team</a>. All rights reserved. (Last updated: 2020-08-27)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
